!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=0)}([function(t,e,n){"use strict";n.r(e),n.d(e,"htmlEditButton",(function(){return r}));var r=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.container.parentElement.querySelectorAll(".ql-toolbar").forEach((function(t){var n=document.createElement("span");n.setAttribute("class","ql-formats");var r=document.createElement("button");r.innerHTML="&lt;&gt;",r.title="Show HTML source",r.onclick=function(t){t.preventDefault(),function(t){var e=t.container.querySelector(".ql-editor").innerHTML,n=document.createElement("div"),r=document.createElement("div");r.setAttribute("style","background: #0000007d; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9999;"),n.setAttribute("style","background: #ddd; position: absolute; top: 5%; left: 5%; right: 5%; bottom: 5%; border-radius: 10px;");var o=document.createElement("i");o.setAttribute("style","margin: 0; display: block;"),o.innerText='Edit HTML here, when you click "OK" the quill editor\'s contents will be replaced';var i=document.createElement("div");i.appendChild(o),i.setAttribute("style","position: relative; width: calc(100% - 40px); height: calc(100% - 40px); padding: 20px;");var l=document.createElement("textarea");l.setAttribute("style","position: absolute; left:15px; width: calc(100% - 45px); height: calc(100% - 116px);"),l.value=function(t){for(var e=" ".repeat(2),n=0,r=null,o=null,i="",l=0;l<=t.length;l++){r=t.substr(l,1),o=t.substr(l+1,1);var a="<br>"===t.substr(l,4),c="<"===r&&"/"===o&&!a;a&&(i+="\n",n--,l+=4),"<"===r&&"/"!==o&&!a?(i+="\n"+e.repeat(n),n++):c?(--n<0&&(n=0),i+="\n"+e.repeat(n)):" "===r&&" "===o?r="":"\n"===r&&""===t.substr(l,t.substr(l).indexOf("<")).trim()&&(r=""),i+=r}return i}(e);var a=document.createElement("button");a.innerHTML="Cancel",a.setAttribute("style","margin-right: 20px;");var c=document.createElement("button");c.innerHTML="Ok";var u=document.createElement("div");u.setAttribute("style","position: absolute; bottom: 20px; transform: scale(1.5); left: calc(50% - 60px)"),u.appendChild(a),u.appendChild(c),i.appendChild(l),i.appendChild(u),n.appendChild(i),r.appendChild(n),document.body.appendChild(r),a.onclick=function(){document.body.removeChild(r)},r.onclick=a.onclick,n.onclick=function(t){t.preventDefault(),t.stopPropagation()},c.onclick=function(){var e=l.value.split(/\r?\n/g).map((function(t){return t.trim()})).join("");t.container.querySelector(".ql-editor").innerHTML=e,document.body.removeChild(r)}}(e)},n.appendChild(r),t.appendChild(n)}))};window.htmlEditButton=r,e.default=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3F1aWxsLmh0bWxFZGl0QnV0dG9uLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiaHRtbEVkaXRCdXR0b24iLCJxdWlsbCIsIm9wdGlvbnMiLCJjb250YWluZXIiLCJwYXJlbnRFbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJ0b29sYmFyRWwiLCJidXR0b25Db250YWluZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJidXR0b24iLCJpbm5lckhUTUwiLCJ0aXRsZSIsIm9uY2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJodG1sRnJvbUVkaXRvciIsInF1ZXJ5U2VsZWN0b3IiLCJwb3B1cENvbnRhaW5lciIsIm92ZXJsYXlDb250YWluZXIiLCJpbm5lclRleHQiLCJ0ZXh0Q29udGFpbmVyIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0QXJlYSIsImNvZGUiLCJ3aGl0ZXNwYWNlIiwicmVwZWF0IiwiY3VycmVudEluZGVudCIsImNoYXIiLCJuZXh0Q2hhciIsInJlc3VsdCIsInBvcyIsImxlbmd0aCIsInN1YnN0ciIsImlzQnJUYWciLCJpc0Nsb3NpbmdUYWciLCJpbmRleE9mIiwidHJpbSIsImZvcm1hdEhUTUwiLCJidXR0b25DYW5jZWwiLCJidXR0b25PayIsImJ1dHRvbkdyb3VwIiwiYm9keSIsInJlbW92ZUNoaWxkIiwic3RvcFByb3BhZ2F0aW9uIiwibm9OZXdsaW5lcyIsInNwbGl0IiwibWFwIiwiZWwiLCJqb2luIiwibGF1bmNoUG9wdXBFZGl0b3IiLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxN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LFVBQ3hDZ0MsRUFBUzdCLFVBQVksS0FDckIsSUFBTThCLEVBQWNsQyxTQUFTQyxjQUFjLE9BQzNDaUMsRUFBWWhDLGFBQ1YsUUFDQSxtRkFFRmdDLEVBQVluQixZQUFZaUIsR0FDeEJFLEVBQVluQixZQUFZa0IsR0FDeEJuQixFQUFjQyxZQUFZQyxHQUMxQkYsRUFBY0MsWUFBWW1CLEdBQzFCdkIsRUFBZUksWUFBWUQsR0FDM0JGLEVBQWlCRyxZQUFZSixHQUM3QlgsU0FBU21DLEtBQUtwQixZQUFZSCxHQUUxQm9CLEVBQWExQixRQUFVLFdBQ3JCTixTQUFTbUMsS0FBS0MsWUFBWXhCLElBRTVCQSxFQUFpQk4sUUFBVTBCLEVBQWExQixRQUN4Q0ssRUFBZUwsUUFBVSxTQUFTQyxHQUNoQ0EsRUFBRUMsaUJBQ0ZELEVBQUU4QixtQkFFSkosRUFBUzNCLFFBQVUsV0FDakIsSUFDTWdDLEVBRFN0QixFQUFTeEMsTUFBTStELE1BQU0sVUFBVUMsS0FBSSxTQUFBQyxHQUFBLE9BQU1BLEVBQUdYLFVBQ2pDWSxLQUFLLElBQy9CbEQsRUFBTUUsVUFBVWdCLGNBQWMsY0FBY04sVUFBWWtDLEVBQ3hEdEMsU0FBU21DLEtBQUtDLFlBQVl4QixJQWxFcEIrQixDQUFrQm5ELElBRXBCTyxFQUFnQmdCLFlBQVlaLEdBQzVCTCxFQUFVaUIsWUFBWWhCLE9BMkg5QjZDLE9BQU9yRCxlQUFpQkEsRUFDVEEiLCJmaWxlIjoicXVpbGwuaHRtbEVkaXRCdXR0b24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvZGlzdC9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiY2xhc3MgaHRtbEVkaXRCdXR0b24ge1xyXG4gIGNvbnN0cnVjdG9yKHF1aWxsLCBvcHRpb25zKSB7XHJcbiAgICAvLyBBZGQgYnV0dG9uIHRvIGFsbCBxdWlsbCB0b29sYmFyIGluc3RhbmNlc1xyXG4gICAgcXVpbGwuY29udGFpbmVyLnBhcmVudEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucWwtdG9vbGJhclwiKVxyXG4gICAgICAuZm9yRWFjaCh0b29sYmFyRWwgPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgIGJ1dHRvbkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInFsLWZvcm1hdHNcIik7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gXCImbHQ7Jmd0O1wiO1xyXG4gICAgICAgIGJ1dHRvbi50aXRsZSA9IFwiU2hvdyBIVE1MIHNvdXJjZVwiO1xyXG4gICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgbGF1bmNoUG9wdXBFZGl0b3IocXVpbGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICAgICAgdG9vbGJhckVsLmFwcGVuZENoaWxkKGJ1dHRvbkNvbnRhaW5lcik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbGF1bmNoUG9wdXBFZGl0b3IocXVpbGwpIHtcclxuICBjb25zdCBodG1sRnJvbUVkaXRvciA9IHF1aWxsLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnFsLWVkaXRvclwiKS5pbm5lckhUTUw7XHJcbiAgY29uc3QgcG9wdXBDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbnN0IG92ZXJsYXlDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIG92ZXJsYXlDb250YWluZXIuc2V0QXR0cmlidXRlKFxyXG4gICAgXCJzdHlsZVwiLFxyXG4gICAgXCJiYWNrZ3JvdW5kOiAjMDAwMDAwN2Q7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDsgYm90dG9tOiAwOyB6LWluZGV4OiA5OTk5O1wiXHJcbiAgKTtcclxuICBwb3B1cENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXHJcbiAgICBcInN0eWxlXCIsXHJcbiAgICBcImJhY2tncm91bmQ6ICNkZGQ7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiA1JTsgbGVmdDogNSU7IHJpZ2h0OiA1JTsgYm90dG9tOiA1JTsgYm9yZGVyLXJhZGl1czogMTBweDtcIlxyXG4gICk7XHJcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcclxuICB0aXRsZS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcIm1hcmdpbjogMDsgZGlzcGxheTogYmxvY2s7XCIpO1xyXG4gIHRpdGxlLmlubmVyVGV4dCA9XHJcbiAgICAnRWRpdCBIVE1MIGhlcmUsIHdoZW4geW91IGNsaWNrIFwiT0tcIiB0aGUgcXVpbGwgZWRpdG9yXFwncyBjb250ZW50cyB3aWxsIGJlIHJlcGxhY2VkJztcclxuICBjb25zdCB0ZXh0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICB0ZXh0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlKTtcclxuICB0ZXh0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcclxuICAgIFwic3R5bGVcIixcclxuICAgIFwicG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogY2FsYygxMDAlIC0gNDBweCk7IGhlaWdodDogY2FsYygxMDAlIC0gNDBweCk7IHBhZGRpbmc6IDIwcHg7XCJcclxuICApO1xyXG4gIGNvbnN0IHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xyXG4gIHRleHRBcmVhLnNldEF0dHJpYnV0ZShcclxuICAgIFwic3R5bGVcIixcclxuICAgIFwicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OjE1cHg7IHdpZHRoOiBjYWxjKDEwMCUgLSA0NXB4KTsgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxMTZweCk7XCJcclxuICApO1xyXG4gIHRleHRBcmVhLnZhbHVlID0gZm9ybWF0SFRNTChodG1sRnJvbUVkaXRvcik7XHJcbiAgY29uc3QgYnV0dG9uQ2FuY2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b25DYW5jZWwuaW5uZXJIVE1MID0gXCJDYW5jZWxcIjtcclxuICBidXR0b25DYW5jZWwuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJtYXJnaW4tcmlnaHQ6IDIwcHg7XCIpO1xyXG4gIGNvbnN0IGJ1dHRvbk9rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b25Pay5pbm5lckhUTUwgPSBcIk9rXCI7XHJcbiAgY29uc3QgYnV0dG9uR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGJ1dHRvbkdyb3VwLnNldEF0dHJpYnV0ZShcclxuICAgIFwic3R5bGVcIixcclxuICAgIFwicG9zaXRpb246IGFic29sdXRlOyBib3R0b206IDIwcHg7IHRyYW5zZm9ybTogc2NhbGUoMS41KTsgbGVmdDogY2FsYyg1MCUgLSA2MHB4KVwiXHJcbiAgKTtcclxuICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZChidXR0b25DYW5jZWwpO1xyXG4gIGJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKGJ1dHRvbk9rKTtcclxuICB0ZXh0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRleHRBcmVhKTtcclxuICB0ZXh0Q29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbkdyb3VwKTtcclxuICBwb3B1cENvbnRhaW5lci5hcHBlbmRDaGlsZCh0ZXh0Q29udGFpbmVyKTtcclxuICBvdmVybGF5Q29udGFpbmVyLmFwcGVuZENoaWxkKHBvcHVwQ29udGFpbmVyKTtcclxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXlDb250YWluZXIpO1xyXG5cclxuICBidXR0b25DYW5jZWwub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdmVybGF5Q29udGFpbmVyKTtcclxuICB9O1xyXG4gIG92ZXJsYXlDb250YWluZXIub25jbGljayA9IGJ1dHRvbkNhbmNlbC5vbmNsaWNrO1xyXG4gIHBvcHVwQ29udGFpbmVyLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIH07XHJcbiAgYnV0dG9uT2sub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3Qgb3V0cHV0ID0gdGV4dEFyZWEudmFsdWUuc3BsaXQoL1xccj9cXG4vZykubWFwKGVsID0+IGVsLnRyaW0oKSk7XHJcbiAgICBjb25zdCBub05ld2xpbmVzID0gb3V0cHV0LmpvaW4oXCJcIik7XHJcbiAgICBxdWlsbC5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5xbC1lZGl0b3JcIikuaW5uZXJIVE1MID0gbm9OZXdsaW5lcztcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3ZlcmxheUNvbnRhaW5lcik7XHJcbiAgfTtcclxufVxyXG5cclxuLy8gQWRhcHRlZCBGUk9NIGpzZmlkZGxlIGhlcmU6IGh0dHBzOi8vanNmaWRkbGUubmV0L2J1a3N5L3J4dWNnMWdkL1xyXG5mdW5jdGlvbiBmb3JtYXRIVE1MKGNvZGUpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuICBsZXQgc3RyaXBXaGl0ZVNwYWNlcyA9IHRydWU7XHJcbiAgbGV0IHN0cmlwRW1wdHlMaW5lcyA9IHRydWU7XHJcbiAgY29uc3Qgd2hpdGVzcGFjZSA9IFwiIFwiLnJlcGVhdCgyKTsgLy8gRGVmYXVsdCBpbmRlbnRpbmcgNCB3aGl0ZXNwYWNlc1xyXG4gIGxldCBjdXJyZW50SW5kZW50ID0gMDtcclxuICBjb25zdCBuZXdsaW5lQ2hhciA9IFwiXFxuXCI7XHJcbiAgbGV0IGNoYXIgPSBudWxsO1xyXG4gIGxldCBuZXh0Q2hhciA9IG51bGw7XHJcblxyXG4gIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8PSBjb2RlLmxlbmd0aDsgcG9zKyspIHtcclxuICAgIGNoYXIgPSBjb2RlLnN1YnN0cihwb3MsIDEpO1xyXG4gICAgbmV4dENoYXIgPSBjb2RlLnN1YnN0cihwb3MgKyAxLCAxKTtcclxuXHJcbiAgICBjb25zdCBpc0JyVGFnID0gY29kZS5zdWJzdHIocG9zLCA0KSA9PT0gXCI8YnI+XCI7XHJcbiAgICBjb25zdCBpc09wZW5pbmdUYWcgPSBjaGFyID09PSBcIjxcIiAmJiBuZXh0Q2hhciAhPT0gXCIvXCIgJiYgIWlzQnJUYWc7XHJcbiAgICBjb25zdCBpc0Nsb3NpbmdUYWcgPSBjaGFyID09PSBcIjxcIiAmJiBuZXh0Q2hhciA9PT0gXCIvXCIgJiYgIWlzQnJUYWc7XHJcbiAgICBpZiAoaXNCclRhZykge1xyXG4gICAgICAvLyBJZiBvcGVuaW5nIHRhZywgYWRkIG5ld2xpbmUgY2hhcmFjdGVyIGFuZCBpbmRlbnRpb25cclxuICAgICAgcmVzdWx0ICs9IG5ld2xpbmVDaGFyO1xyXG4gICAgICBjdXJyZW50SW5kZW50LS07XHJcbiAgICAgIHBvcyArPSA0O1xyXG4gICAgfVxyXG4gICAgaWYgKGlzT3BlbmluZ1RhZykge1xyXG4gICAgICAvLyBJZiBvcGVuaW5nIHRhZywgYWRkIG5ld2xpbmUgY2hhcmFjdGVyIGFuZCBpbmRlbnRpb25cclxuICAgICAgcmVzdWx0ICs9IG5ld2xpbmVDaGFyICsgd2hpdGVzcGFjZS5yZXBlYXQoY3VycmVudEluZGVudCk7XHJcbiAgICAgIGN1cnJlbnRJbmRlbnQrKztcclxuICAgIH1cclxuICAgIC8vIGlmIENsb3NpbmcgdGFnLCBhZGQgbmV3bGluZSBhbmQgaW5kZW50aW9uXHJcbiAgICBlbHNlIGlmIChpc0Nsb3NpbmdUYWcpIHtcclxuICAgICAgLy8gSWYgdGhlcmUncmUgbW9yZSBjbG9zaW5nIHRhZ3MgdGhhbiBvcGVuaW5nXHJcbiAgICAgIGlmICgtLWN1cnJlbnRJbmRlbnQgPCAwKSBjdXJyZW50SW5kZW50ID0gMDtcclxuICAgICAgcmVzdWx0ICs9IG5ld2xpbmVDaGFyICsgd2hpdGVzcGFjZS5yZXBlYXQoY3VycmVudEluZGVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmVtb3ZlIG11bHRpcGxlIHdoaXRlc3BhY2VzXHJcbiAgICBlbHNlIGlmIChzdHJpcFdoaXRlU3BhY2VzID09PSB0cnVlICYmIGNoYXIgPT09IFwiIFwiICYmIG5leHRDaGFyID09PSBcIiBcIilcclxuICAgICAgY2hhciA9IFwiXCI7XHJcbiAgICAvLyByZW1vdmUgZW1wdHkgbGluZXNcclxuICAgIGVsc2UgaWYgKHN0cmlwRW1wdHlMaW5lcyA9PT0gdHJ1ZSAmJiBjaGFyID09PSBuZXdsaW5lQ2hhcikge1xyXG4gICAgICAvL2RlYnVnZ2VyO1xyXG4gICAgICBpZiAoY29kZS5zdWJzdHIocG9zLCBjb2RlLnN1YnN0cihwb3MpLmluZGV4T2YoXCI8XCIpKS50cmltKCkgPT09IFwiXCIpXHJcbiAgICAgICAgY2hhciA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdWx0ICs9IGNoYXI7XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKFwiZm9ybWF0SFRNTFwiLCB7XHJcbiAgICBiZWZvcmU6IGNvZGUsXHJcbiAgICBhZnRlcjogcmVzdWx0XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxud2luZG93Lmh0bWxFZGl0QnV0dG9uID0gaHRtbEVkaXRCdXR0b247XHJcbmV4cG9ydCBkZWZhdWx0IGh0bWxFZGl0QnV0dG9uO1xyXG5leHBvcnQgeyBodG1sRWRpdEJ1dHRvbiB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9