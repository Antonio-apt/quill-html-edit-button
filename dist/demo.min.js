!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=2)}([function(t,e,n){"use strict";n.r(e),n.d(e,"htmlEditButton",(function(){return r}));var r=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.container.parentElement.querySelectorAll(".ql-toolbar").forEach((function(t){var n=document.createElement("span");n.setAttribute("class","ql-formats");var r=document.createElement("button");r.innerHTML="&lt;&gt;",r.title="Show HTML source",r.onclick=function(t){t.preventDefault(),function(t){var e=t.container.querySelector(".ql-editor").innerHTML,n=document.createElement("div"),r=document.createElement("div");r.setAttribute("style","background: #0000007d; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9999;"),n.setAttribute("style","background: #ddd; position: absolute; top: 5%; left: 5%; right: 5%; bottom: 5%; border-radius: 10px;");var o=document.createElement("i");o.setAttribute("style","margin: 0; display: block;"),o.innerText='Edit HTML here, when you click "OK" the quill editor\'s contents will be replaced';var i=document.createElement("div");i.appendChild(o),i.setAttribute("style","position: relative; width: calc(100% - 40px); height: calc(100% - 40px); padding: 20px;");var l=document.createElement("textarea");l.setAttribute("style","position: absolute; left:15px; width: calc(100% - 45px); height: calc(100% - 116px);"),l.value=function(t){for(var e=" ".repeat(2),n=0,r=null,o=null,i="",l=0;l<=t.length;l++){r=t.substr(l,1),o=t.substr(l+1,1);var a="<br>"===t.substr(l,4),u="<"===r&&"/"===o&&!a;a&&(i+="\n",n--,l+=4),"<"===r&&"/"!==o&&!a?(i+="\n"+e.repeat(n),n++):u?(--n<0&&(n=0),i+="\n"+e.repeat(n)):" "===r&&" "===o?r="":"\n"===r&&""===t.substr(l,t.substr(l).indexOf("<")).trim()&&(r=""),i+=r}return i}(e);var a=document.createElement("button");a.innerHTML="Cancel",a.setAttribute("style","margin-right: 20px;");var u=document.createElement("button");u.innerHTML="Ok";var c=document.createElement("div");c.setAttribute("style","position: absolute; bottom: 20px; transform: scale(1.5); left: calc(50% - 60px)"),c.appendChild(a),c.appendChild(u),i.appendChild(l),i.appendChild(c),n.appendChild(i),r.appendChild(n),document.body.appendChild(r),a.onclick=function(){document.body.removeChild(r)},r.onclick=a.onclick,n.onclick=function(t){t.preventDefault(),t.stopPropagation()},u.onclick=function(){var e=l.value.split(/\r?\n/g).map((function(t){return t.trim()})).join("");t.container.querySelector(".ql-editor").innerHTML=e,document.body.removeChild(r)}}(e)},n.appendChild(r),t.appendChild(n)}))};window.htmlEditButton=r,e.default=r},function(t,e){t.exports=Quill},function(t,e,n){"use strict";n.r(e);var r=n(1),o=n.n(r),i=n(0);o.a.register("modules/htmlEditButton",i.htmlEditButton);new o.a("#editor",{theme:"snow",modules:{toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic"],["clean"],["image"]]},htmlEditButton:{}}})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3F1aWxsLmh0bWxFZGl0QnV0dG9uLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIlF1aWxsXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlbW8uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJodG1sRWRpdEJ1dHRvbiIsInF1aWxsIiwib3B0aW9ucyIsImNvbnRhaW5lciIsInBhcmVudEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInRvb2xiYXJFbCIsImJ1dHRvbkNvbnRhaW5lciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImJ1dHRvbiIsImlubmVySFRNTCIsInRpdGxlIiwib25jbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImh0bWxGcm9tRWRpdG9yIiwicXVlcnlTZWxlY3RvciIsInBvcHVwQ29udGFpbmVyIiwib3ZlcmxheUNvbnRhaW5lciIsImlubmVyVGV4dCIsInRleHRDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsInRleHRBcmVhIiwiY29kZSIsIndoaXRlc3BhY2UiLCJyZXBlYXQiLCJjdXJyZW50SW5kZW50IiwiY2hhciIsIm5leHRDaGFyIiwicmVzdWx0IiwicG9zIiwibGVuZ3RoIiwic3Vic3RyIiwiaXNCclRhZyIsImlzQ2xvc2luZ1RhZyIsImluZGV4T2YiLCJ0cmltIiwiZm9ybWF0SFRNTCIsImJ1dHRvbkNhbmNlbCIsImJ1dHRvbk9rIiwiYnV0dG9uR3JvdXAiLCJib2R5IiwicmVtb3ZlQ2hpbGQiLCJzdG9wUHJvcGFnYXRpb24iLCJub05ld2xpbmVzIiwic3BsaXQiLCJtYXAiLCJlbCIsImpvaW4iLCJsYXVuY2hQb3B1cEVkaXRvciIsIndpbmRvdyIsIlF1aWxsIiwicmVnaXN0ZXIiLCJ0aGVtZSIsInRvb2xiYXIiLCJoZWFkZXIiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVB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QUMsT0FBUSxVQUNULENBQUMsU0FDRCxDQUFDLFdBV0MxRCxlQUFnQiIsImZpbGUiOiJkZW1vLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Rpc3QvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbiIsImNsYXNzIGh0bWxFZGl0QnV0dG9uIHtcclxuICBjb25zdHJ1Y3RvcihxdWlsbCwgb3B0aW9ucykge1xyXG4gICAgLy8gQWRkIGJ1dHRvbiB0byBhbGwgcXVpbGwgdG9vbGJhciBpbnN0YW5jZXNcclxuICAgIHF1aWxsLmNvbnRhaW5lci5wYXJlbnRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKFwiLnFsLXRvb2xiYXJcIilcclxuICAgICAgLmZvckVhY2godG9vbGJhckVsID0+IHtcclxuICAgICAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICBidXR0b25Db250YWluZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJxbC1mb3JtYXRzXCIpO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IFwiJmx0OyZndDtcIjtcclxuICAgICAgICBidXR0b24udGl0bGUgPSBcIlNob3cgSFRNTCBzb3VyY2VcIjtcclxuICAgICAgICBidXR0b24ub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIGxhdW5jaFBvcHVwRWRpdG9yKHF1aWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgICAgIHRvb2xiYXJFbC5hcHBlbmRDaGlsZChidXR0b25Db250YWluZXIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxhdW5jaFBvcHVwRWRpdG9yKHF1aWxsKSB7XHJcbiAgY29uc3QgaHRtbEZyb21FZGl0b3IgPSBxdWlsbC5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5xbC1lZGl0b3JcIikuaW5uZXJIVE1MO1xyXG4gIGNvbnN0IHBvcHVwQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb25zdCBvdmVybGF5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBvdmVybGF5Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcclxuICAgIFwic3R5bGVcIixcclxuICAgIFwiYmFja2dyb3VuZDogIzAwMDAwMDdkOyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7IGJvdHRvbTogMDsgei1pbmRleDogOTk5OTtcIlxyXG4gICk7XHJcbiAgcG9wdXBDb250YWluZXIuc2V0QXR0cmlidXRlKFxyXG4gICAgXCJzdHlsZVwiLFxyXG4gICAgXCJiYWNrZ3JvdW5kOiAjZGRkOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogNSU7IGxlZnQ6IDUlOyByaWdodDogNSU7IGJvdHRvbTogNSU7IGJvcmRlci1yYWRpdXM6IDEwcHg7XCJcclxuICApO1xyXG4gIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XHJcbiAgdGl0bGUuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJtYXJnaW46IDA7IGRpc3BsYXk6IGJsb2NrO1wiKTtcclxuICB0aXRsZS5pbm5lclRleHQgPVxyXG4gICAgJ0VkaXQgSFRNTCBoZXJlLCB3aGVuIHlvdSBjbGljayBcIk9LXCIgdGhlIHF1aWxsIGVkaXRvclxcJ3MgY29udGVudHMgd2lsbCBiZSByZXBsYWNlZCc7XHJcbiAgY29uc3QgdGV4dENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgdGV4dENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcbiAgdGV4dENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXHJcbiAgICBcInN0eWxlXCIsXHJcbiAgICBcInBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IGNhbGMoMTAwJSAtIDQwcHgpOyBoZWlnaHQ6IGNhbGMoMTAwJSAtIDQwcHgpOyBwYWRkaW5nOiAyMHB4O1wiXHJcbiAgKTtcclxuICBjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcclxuICB0ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoXHJcbiAgICBcInN0eWxlXCIsXHJcbiAgICBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDoxNXB4OyB3aWR0aDogY2FsYygxMDAlIC0gNDVweCk7IGhlaWdodDogY2FsYygxMDAlIC0gMTE2cHgpO1wiXHJcbiAgKTtcclxuICB0ZXh0QXJlYS52YWx1ZSA9IGZvcm1hdEhUTUwoaHRtbEZyb21FZGl0b3IpO1xyXG4gIGNvbnN0IGJ1dHRvbkNhbmNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9uQ2FuY2VsLmlubmVySFRNTCA9IFwiQ2FuY2VsXCI7XHJcbiAgYnV0dG9uQ2FuY2VsLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwibWFyZ2luLXJpZ2h0OiAyMHB4O1wiKTtcclxuICBjb25zdCBidXR0b25PayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9uT2suaW5uZXJIVE1MID0gXCJPa1wiO1xyXG4gIGNvbnN0IGJ1dHRvbkdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBidXR0b25Hcm91cC5zZXRBdHRyaWJ1dGUoXHJcbiAgICBcInN0eWxlXCIsXHJcbiAgICBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAyMHB4OyB0cmFuc2Zvcm06IHNjYWxlKDEuNSk7IGxlZnQ6IGNhbGMoNTAlIC0gNjBweClcIlxyXG4gICk7XHJcbiAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQoYnV0dG9uQ2FuY2VsKTtcclxuICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZChidXR0b25Payk7XHJcbiAgdGV4dENvbnRhaW5lci5hcHBlbmRDaGlsZCh0ZXh0QXJlYSk7XHJcbiAgdGV4dENvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25Hcm91cCk7XHJcbiAgcG9wdXBDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dENvbnRhaW5lcik7XHJcbiAgb3ZlcmxheUNvbnRhaW5lci5hcHBlbmRDaGlsZChwb3B1cENvbnRhaW5lcik7XHJcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5Q29udGFpbmVyKTtcclxuXHJcbiAgYnV0dG9uQ2FuY2VsLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3ZlcmxheUNvbnRhaW5lcik7XHJcbiAgfTtcclxuICBvdmVybGF5Q29udGFpbmVyLm9uY2xpY2sgPSBidXR0b25DYW5jZWwub25jbGljaztcclxuICBwb3B1cENvbnRhaW5lci5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICB9O1xyXG4gIGJ1dHRvbk9rLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIGNvbnN0IG91dHB1dCA9IHRleHRBcmVhLnZhbHVlLnNwbGl0KC9cXHI/XFxuL2cpLm1hcChlbCA9PiBlbC50cmltKCkpO1xyXG4gICAgY29uc3Qgbm9OZXdsaW5lcyA9IG91dHB1dC5qb2luKFwiXCIpO1xyXG4gICAgcXVpbGwuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucWwtZWRpdG9yXCIpLmlubmVySFRNTCA9IG5vTmV3bGluZXM7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG92ZXJsYXlDb250YWluZXIpO1xyXG4gIH07XHJcbn1cclxuXHJcbi8vIEFkYXB0ZWQgRlJPTSBqc2ZpZGRsZSBoZXJlOiBodHRwczovL2pzZmlkZGxlLm5ldC9idWtzeS9yeHVjZzFnZC9cclxuZnVuY3Rpb24gZm9ybWF0SFRNTChjb2RlKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgbGV0IHN0cmlwV2hpdGVTcGFjZXMgPSB0cnVlO1xyXG4gIGxldCBzdHJpcEVtcHR5TGluZXMgPSB0cnVlO1xyXG4gIGNvbnN0IHdoaXRlc3BhY2UgPSBcIiBcIi5yZXBlYXQoMik7IC8vIERlZmF1bHQgaW5kZW50aW5nIDQgd2hpdGVzcGFjZXNcclxuICBsZXQgY3VycmVudEluZGVudCA9IDA7XHJcbiAgY29uc3QgbmV3bGluZUNoYXIgPSBcIlxcblwiO1xyXG4gIGxldCBjaGFyID0gbnVsbDtcclxuICBsZXQgbmV4dENoYXIgPSBudWxsO1xyXG5cclxuICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICBmb3IgKGxldCBwb3MgPSAwOyBwb3MgPD0gY29kZS5sZW5ndGg7IHBvcysrKSB7XHJcbiAgICBjaGFyID0gY29kZS5zdWJzdHIocG9zLCAxKTtcclxuICAgIG5leHRDaGFyID0gY29kZS5zdWJzdHIocG9zICsgMSwgMSk7XHJcblxyXG4gICAgY29uc3QgaXNCclRhZyA9IGNvZGUuc3Vic3RyKHBvcywgNCkgPT09IFwiPGJyPlwiO1xyXG4gICAgY29uc3QgaXNPcGVuaW5nVGFnID0gY2hhciA9PT0gXCI8XCIgJiYgbmV4dENoYXIgIT09IFwiL1wiICYmICFpc0JyVGFnO1xyXG4gICAgY29uc3QgaXNDbG9zaW5nVGFnID0gY2hhciA9PT0gXCI8XCIgJiYgbmV4dENoYXIgPT09IFwiL1wiICYmICFpc0JyVGFnO1xyXG4gICAgaWYgKGlzQnJUYWcpIHtcclxuICAgICAgLy8gSWYgb3BlbmluZyB0YWcsIGFkZCBuZXdsaW5lIGNoYXJhY3RlciBhbmQgaW5kZW50aW9uXHJcbiAgICAgIHJlc3VsdCArPSBuZXdsaW5lQ2hhcjtcclxuICAgICAgY3VycmVudEluZGVudC0tO1xyXG4gICAgICBwb3MgKz0gNDtcclxuICAgIH1cclxuICAgIGlmIChpc09wZW5pbmdUYWcpIHtcclxuICAgICAgLy8gSWYgb3BlbmluZyB0YWcsIGFkZCBuZXdsaW5lIGNoYXJhY3RlciBhbmQgaW5kZW50aW9uXHJcbiAgICAgIHJlc3VsdCArPSBuZXdsaW5lQ2hhciArIHdoaXRlc3BhY2UucmVwZWF0KGN1cnJlbnRJbmRlbnQpO1xyXG4gICAgICBjdXJyZW50SW5kZW50Kys7XHJcbiAgICB9XHJcbiAgICAvLyBpZiBDbG9zaW5nIHRhZywgYWRkIG5ld2xpbmUgYW5kIGluZGVudGlvblxyXG4gICAgZWxzZSBpZiAoaXNDbG9zaW5nVGFnKSB7XHJcbiAgICAgIC8vIElmIHRoZXJlJ3JlIG1vcmUgY2xvc2luZyB0YWdzIHRoYW4gb3BlbmluZ1xyXG4gICAgICBpZiAoLS1jdXJyZW50SW5kZW50IDwgMCkgY3VycmVudEluZGVudCA9IDA7XHJcbiAgICAgIHJlc3VsdCArPSBuZXdsaW5lQ2hhciArIHdoaXRlc3BhY2UucmVwZWF0KGN1cnJlbnRJbmRlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlbW92ZSBtdWx0aXBsZSB3aGl0ZXNwYWNlc1xyXG4gICAgZWxzZSBpZiAoc3RyaXBXaGl0ZVNwYWNlcyA9PT0gdHJ1ZSAmJiBjaGFyID09PSBcIiBcIiAmJiBuZXh0Q2hhciA9PT0gXCIgXCIpXHJcbiAgICAgIGNoYXIgPSBcIlwiO1xyXG4gICAgLy8gcmVtb3ZlIGVtcHR5IGxpbmVzXHJcbiAgICBlbHNlIGlmIChzdHJpcEVtcHR5TGluZXMgPT09IHRydWUgJiYgY2hhciA9PT0gbmV3bGluZUNoYXIpIHtcclxuICAgICAgLy9kZWJ1Z2dlcjtcclxuICAgICAgaWYgKGNvZGUuc3Vic3RyKHBvcywgY29kZS5zdWJzdHIocG9zKS5pbmRleE9mKFwiPFwiKSkudHJpbSgpID09PSBcIlwiKVxyXG4gICAgICAgIGNoYXIgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3VsdCArPSBjaGFyO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZyhcImZvcm1hdEhUTUxcIiwge1xyXG4gICAgYmVmb3JlOiBjb2RlLFxyXG4gICAgYWZ0ZXI6IHJlc3VsdFxyXG4gIH0pO1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbndpbmRvdy5odG1sRWRpdEJ1dHRvbiA9IGh0bWxFZGl0QnV0dG9uO1xyXG5leHBvcnQgZGVmYXVsdCBodG1sRWRpdEJ1dHRvbjtcclxuZXhwb3J0IHsgaHRtbEVkaXRCdXR0b24gfTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSBRdWlsbDsiLCJpbXBvcnQgUXVpbGwgZnJvbSBcInF1aWxsXCI7XHJcbmltcG9ydCB7IGh0bWxFZGl0QnV0dG9uIH0gZnJvbSBcIi4vcXVpbGwuaHRtbEVkaXRCdXR0b25cIjtcclxuXHJcblF1aWxsLnJlZ2lzdGVyKFwibW9kdWxlcy9odG1sRWRpdEJ1dHRvblwiLCBodG1sRWRpdEJ1dHRvbik7XHJcblxyXG5jb25zdCBmdWxsVG9vbGJhck9wdGlvbnMgPSBbXHJcbiAgW3sgaGVhZGVyOiBbMSwgMiwgMywgZmFsc2VdIH1dLFxyXG4gIFtcImJvbGRcIiwgXCJpdGFsaWNcIl0sXHJcbiAgW1wiY2xlYW5cIl0sXHJcbiAgW1wiaW1hZ2VcIl1cclxuXTtcclxuXHJcbmNvbnNvbGUubG9nKFwiRGVtbyBsb2FkZWQuLi5cIik7XHJcblxyXG52YXIgcXVpbGwgPSBuZXcgUXVpbGwoXCIjZWRpdG9yXCIsIHtcclxuICB0aGVtZTogXCJzbm93XCIsXHJcbiAgbW9kdWxlczoge1xyXG4gICAgdG9vbGJhcjoge1xyXG4gICAgICBjb250YWluZXI6IGZ1bGxUb29sYmFyT3B0aW9uc1xyXG4gICAgfSxcclxuICAgIGh0bWxFZGl0QnV0dG9uOiB7fVxyXG4gIH1cclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=