!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="/dist/",e(e.s=2)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "htmlEditButton", function() { return htmlEditButton; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar htmlEditButton = function htmlEditButton(quill, options) {\n  _classCallCheck(this, htmlEditButton);\n\n  // Add button to all quill toolbar instances\n  quill.container.parentElement.querySelectorAll(".ql-toolbar").forEach(function (toolbarEl) {\n    var buttonContainer = document.createElement("span");\n    buttonContainer.setAttribute("class", "ql-formats");\n    var button = document.createElement("button");\n    button.innerHTML = "&lt;&gt;";\n    button.title = "Show HTML source";\n    button.onclick = function (e) {\n      e.preventDefault();\n      launchPopupEditor(quill);\n    };\n    buttonContainer.appendChild(button);\n    toolbarEl.appendChild(buttonContainer);\n  });\n};\n\nfunction launchPopupEditor(quill) {\n  var htmlFromEditor = quill.container.querySelector(".ql-editor").innerHTML;\n  var popupContainer = document.createElement("div");\n  var overlayContainer = document.createElement("div");\n  overlayContainer.setAttribute("style", "background: #0000007d; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9999;");\n  popupContainer.setAttribute("style", "background: #ddd; position: absolute; top: 5%; left: 5%; right: 5%; bottom: 5%; border-radius: 10px;");\n  var title = document.createElement("i");\n  title.setAttribute("style", "margin: 0; display: block;");\n  title.innerText = \'Edit HTML here, when you click "OK" the quill editor\\\'s contents will be replaced\';\n  var textContainer = document.createElement("div");\n  textContainer.appendChild(title);\n  textContainer.setAttribute("style", "position: relative; width: calc(100% - 40px); height: calc(100% - 40px); padding: 20px;");\n  var textArea = document.createElement("textarea");\n  textArea.setAttribute("style", "position: absolute; left:15px; width: calc(100% - 45px); height: calc(100% - 116px);");\n  textArea.value = formatHTML(htmlFromEditor);\n  var buttonCancel = document.createElement("button");\n  buttonCancel.innerHTML = "Cancel";\n  buttonCancel.setAttribute("style", "margin-right: 20px;");\n  var buttonOk = document.createElement("button");\n  buttonOk.innerHTML = "Ok";\n  var buttonGroup = document.createElement("div");\n  buttonGroup.setAttribute("style", "position: absolute; bottom: 20px; transform: scale(1.5); left: calc(50% - 60px)");\n  buttonGroup.appendChild(buttonCancel);\n  buttonGroup.appendChild(buttonOk);\n  textContainer.appendChild(textArea);\n  textContainer.appendChild(buttonGroup);\n  popupContainer.appendChild(textContainer);\n  overlayContainer.appendChild(popupContainer);\n  document.body.appendChild(overlayContainer);\n\n  buttonCancel.onclick = function () {\n    document.body.removeChild(overlayContainer);\n  };\n  overlayContainer.onclick = buttonCancel.onclick;\n  popupContainer.onclick = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  buttonOk.onclick = function () {\n    var noNewlines = textArea.value.replace(/\\r?\\n/g, \'\');\n    quill.container.querySelector(".ql-editor").innerHTML = noNewlines;\n    document.body.removeChild(overlayContainer);\n  };\n}\n\n// Adapted FROM jsfiddle here: https://jsfiddle.net/buksy/rxucg1gd/\nfunction formatHTML(code) {\n  "use strict";\n\n  var stripWhiteSpaces = true;\n  var stripEmptyLines = true;\n  var whitespace = " ".repeat(2); // Default indenting 4 whitespaces\n  var currentIndent = 0;\n  var newlineChar = "\\n";\n  var char = null;\n  var nextChar = null;\n\n  var result = "";\n  for (var pos = 0; pos <= code.length; pos++) {\n    char = code.substr(pos, 1);\n    nextChar = code.substr(pos + 1, 1);\n\n    // If opening tag, add newline character and indention\n    if (char === "<" && nextChar !== "/") {\n      result += newlineChar + whitespace.repeat(currentIndent);\n      currentIndent++;\n    }\n    // if Closing tag, add newline and indention\n    else if (char === "<" && nextChar === "/") {\n        // If there\'re more closing tags than opening\n        if (--currentIndent < 0) currentIndent = 0;\n        result += newlineChar + whitespace.repeat(currentIndent);\n      }\n\n      // remove multiple whitespaces\n      else if (stripWhiteSpaces === true && char === " " && nextChar === " ") char = "";\n        // remove empty lines\n        else if (stripEmptyLines === true && char === newlineChar) {\n            //debugger;\n            if (code.substr(pos, code.substr(pos).indexOf("<")).trim() === "") char = "";\n          }\n\n    result += char;\n  }\n\n  return result;\n}\n\nwindow.htmlEditButton = htmlEditButton;\n/* harmony default export */ __webpack_exports__["default"] = (htmlEditButton);\n\n\n//# sourceURL=webpack:///./src/quill.htmlEditButton.js?')},function(module,exports){eval("module.exports = Quill;\n\n//# sourceURL=webpack:///external_%22Quill%22?")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var quill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var quill__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(quill__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _quill_htmlEditButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n\n\n\nquill__WEBPACK_IMPORTED_MODULE_0___default.a.register("modules/htmlEditButton", _quill_htmlEditButton__WEBPACK_IMPORTED_MODULE_1__["htmlEditButton"]);\n\nvar fullToolbarOptions = [[{ header: [1, 2, 3, false] }], ["bold", "italic"], ["clean"], ["image"]];\n\nvar quill = new quill__WEBPACK_IMPORTED_MODULE_0___default.a("#editor", {\n  theme: "snow",\n  modules: {\n    toolbar: {\n      container: fullToolbarOptions\n    },\n    htmlEditButton: {}\n  }\n});\n\n//# sourceURL=webpack:///./src/demo.js?')}]);